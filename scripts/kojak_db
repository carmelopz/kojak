--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

SET search_path = public, pg_catalog;

ALTER TABLE ONLY public.win_builds DROP CONSTRAINT win_builds_build_id_fkey;
ALTER TABLE ONLY public.win_archives DROP CONSTRAINT win_archives_archive_id_fkey;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_user_id_fkey;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_revoker_id_fkey;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_revoke_event_fkey;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_perm_id_fkey;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_creator_id_fkey;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_create_event_fkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_user_id_fkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_revoker_id_fkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_revoke_event_fkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_group_id_fkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_creator_id_fkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_create_event_fkey;
ALTER TABLE ONLY public.task DROP CONSTRAINT task_parent_fkey;
ALTER TABLE ONLY public.task DROP CONSTRAINT task_owner_fkey;
ALTER TABLE ONLY public.task DROP CONSTRAINT task_host_id_fkey;
ALTER TABLE ONLY public.task DROP CONSTRAINT task_channel_id_fkey;
ALTER TABLE ONLY public.tag_updates DROP CONSTRAINT tag_updates_updater_id_fkey;
ALTER TABLE ONLY public.tag_updates DROP CONSTRAINT tag_updates_update_event_fkey;
ALTER TABLE ONLY public.tag_updates DROP CONSTRAINT tag_updates_tag_id_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_tag_id_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_revoker_id_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_revoke_event_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_package_id_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_owner_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_creator_id_fkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_create_event_fkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_tag_id_fkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_revoker_id_fkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_revoke_event_fkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_creator_id_fkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_create_event_fkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_build_id_fkey;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_tag_id_fkey;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_revoker_id_fkey;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_revoke_event_fkey;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_parent_id_fkey;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_creator_id_fkey;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_create_event_fkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_tag_id_fkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_revoker_id_fkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_revoke_event_fkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_external_repo_id_fkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_creator_id_fkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_create_event_fkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_tag_id_fkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_revoker_id_fkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_revoke_event_fkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_perm_id_fkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_creator_id_fkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_create_event_fkey;
ALTER TABLE ONLY public.sessions DROP CONSTRAINT sessions_user_id_fkey;
ALTER TABLE ONLY public.sessions DROP CONSTRAINT sessions_master_fkey;
ALTER TABLE ONLY public.rpmsigs DROP CONSTRAINT rpmsigs_rpm_id_fkey;
ALTER TABLE ONLY public.rpminfo DROP CONSTRAINT rpminfo_external_repo_id_fkey;
ALTER TABLE ONLY public.rpminfo DROP CONSTRAINT rpminfo_buildroot_id_fkey;
ALTER TABLE ONLY public.rpminfo DROP CONSTRAINT rpminfo_build_id_fkey;
ALTER TABLE ONLY public.repo DROP CONSTRAINT repo_tag_id_fkey;
ALTER TABLE ONLY public.repo DROP CONSTRAINT repo_create_event_fkey;
ALTER TABLE ONLY public.maven_builds DROP CONSTRAINT maven_builds_build_id_fkey;
ALTER TABLE ONLY public.maven_archives DROP CONSTRAINT maven_archives_archive_id_fkey;
ALTER TABLE ONLY public.image_listing DROP CONSTRAINT image_listing_rpm_id_fkey;
ALTER TABLE ONLY public.image_listing DROP CONSTRAINT image_listing_image_id_fkey;
ALTER TABLE ONLY public.image_builds DROP CONSTRAINT image_builds_build_id_fkey;
ALTER TABLE ONLY public.image_archives DROP CONSTRAINT image_archives_archive_id_fkey;
ALTER TABLE ONLY public.host DROP CONSTRAINT host_user_id_fkey;
ALTER TABLE ONLY public.host_channels DROP CONSTRAINT host_channels_host_id_fkey;
ALTER TABLE ONLY public.host_channels DROP CONSTRAINT host_channels_channel_id_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_tag_id_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_revoker_id_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_revoke_event_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_req_id_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_group_id_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_creator_id_fkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_create_event_fkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_tag_id_fkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_revoker_id_fkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_revoke_event_fkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_group_id_fkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_creator_id_fkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_create_event_fkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_tag_id_fkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_revoker_id_fkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_revoke_event_fkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_group_id_fkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_creator_id_fkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_create_event_fkey;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_revoker_id_fkey;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_revoke_event_fkey;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_external_repo_id_fkey;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_creator_id_fkey;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_create_event_fkey;
ALTER TABLE ONLY public.event_labels DROP CONSTRAINT event_labels_event_id_fkey;
ALTER TABLE ONLY public.buildroot DROP CONSTRAINT buildroot_task_id_fkey;
ALTER TABLE ONLY public.buildroot DROP CONSTRAINT buildroot_repo_id_fkey;
ALTER TABLE ONLY public.buildroot_listing DROP CONSTRAINT buildroot_listing_rpm_id_fkey;
ALTER TABLE ONLY public.buildroot_listing DROP CONSTRAINT buildroot_listing_buildroot_id_fkey;
ALTER TABLE ONLY public.buildroot DROP CONSTRAINT buildroot_host_id_fkey;
ALTER TABLE ONLY public.buildroot DROP CONSTRAINT buildroot_create_event_fkey;
ALTER TABLE ONLY public.buildroot_archives DROP CONSTRAINT buildroot_archives_buildroot_id_fkey;
ALTER TABLE ONLY public.buildroot_archives DROP CONSTRAINT buildroot_archives_archive_id_fkey;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_volume_id_fkey;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_task_id_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_revoker_id_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_revoke_event_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_dest_tag_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_creator_id_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_create_event_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_build_target_id_fkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_build_tag_fkey;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_pkg_id_fkey;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_owner_fkey;
ALTER TABLE ONLY public.build_notifications DROP CONSTRAINT build_notifications_user_id_fkey;
ALTER TABLE ONLY public.build_notifications DROP CONSTRAINT build_notifications_tag_id_fkey;
ALTER TABLE ONLY public.build_notifications DROP CONSTRAINT build_notifications_package_id_fkey;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_create_event_fkey;
ALTER TABLE ONLY public.archiveinfo DROP CONSTRAINT archiveinfo_type_id_fkey;
ALTER TABLE ONLY public.archiveinfo DROP CONSTRAINT archiveinfo_buildroot_id_fkey;
ALTER TABLE ONLY public.archiveinfo DROP CONSTRAINT archiveinfo_build_id_fkey;
DROP INDEX public.task_by_state;
DROP INDEX public.task_by_host;
DROP INDEX public.tag_updates_by_tag;
DROP INDEX public.tag_updates_by_event;
DROP INDEX public.tag_listing_tag_id_key;
DROP INDEX public.tag_inheritance_by_parent;
DROP INDEX public.sessions_master;
DROP INDEX public.sessions_active_and_recent;
DROP INDEX public.rpminfo_build;
DROP INDEX public.image_listing_rpms;
DROP INDEX public.host_is_ready_and_enabled;
DROP INDEX public.buildroot_listing_rpms;
DROP INDEX public.buildroot_archives_archive_idx;
DROP INDEX public.build_completion;
DROP INDEX public.build_by_pkg_id;
DROP INDEX public.archiveinfo_type_idx;
DROP INDEX public.archiveinfo_filename_idx;
DROP INDEX public.archiveinfo_buildroot_idx;
DROP INDEX public.archiveinfo_build_idx;
ALTER TABLE ONLY public.win_builds DROP CONSTRAINT win_builds_pkey;
ALTER TABLE ONLY public.win_archives DROP CONSTRAINT win_archives_pkey;
ALTER TABLE ONLY public.volume DROP CONSTRAINT volume_pkey;
ALTER TABLE ONLY public.volume DROP CONSTRAINT volume_name_key;
ALTER TABLE ONLY public.users DROP CONSTRAINT users_pkey;
ALTER TABLE ONLY public.users DROP CONSTRAINT users_name_key;
ALTER TABLE ONLY public.users DROP CONSTRAINT users_krb_principal_key;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_user_id_perm_id_active_key;
ALTER TABLE ONLY public.user_perms DROP CONSTRAINT user_perms_pkey;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_user_id_group_id_active_key;
ALTER TABLE ONLY public.user_groups DROP CONSTRAINT user_groups_pkey;
ALTER TABLE ONLY public.task DROP CONSTRAINT task_pkey;
ALTER TABLE ONLY public.task DROP CONSTRAINT task_parent_label_key;
ALTER TABLE ONLY public.tag_updates DROP CONSTRAINT tag_updates_pkey;
ALTER TABLE ONLY public.tag DROP CONSTRAINT tag_pkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_pkey;
ALTER TABLE ONLY public.tag_packages DROP CONSTRAINT tag_packages_package_id_tag_id_active_key;
ALTER TABLE ONLY public.tag DROP CONSTRAINT tag_name_key;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_pkey;
ALTER TABLE ONLY public.tag_listing DROP CONSTRAINT tag_listing_build_id_tag_id_active_key;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_tag_id_priority_active_key;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_tag_id_parent_id_active_key;
ALTER TABLE ONLY public.tag_inheritance DROP CONSTRAINT tag_inheritance_pkey;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_tag_id_priority_active_key;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_tag_id_external_repo_id_active_key;
ALTER TABLE ONLY public.tag_external_repos DROP CONSTRAINT tag_external_repos_pkey;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_tag_id_active_key;
ALTER TABLE ONLY public.tag_config DROP CONSTRAINT tag_config_pkey;
ALTER TABLE ONLY public.sessions DROP CONSTRAINT sessions_user_id_exclusive_key;
ALTER TABLE ONLY public.sessions DROP CONSTRAINT sessions_pkey;
ALTER TABLE ONLY public.rpmsigs DROP CONSTRAINT rpmsigs_no_resign;
ALTER TABLE ONLY public.rpminfo DROP CONSTRAINT rpminfo_unique_nvra;
ALTER TABLE ONLY public.rpminfo DROP CONSTRAINT rpminfo_pkey;
ALTER TABLE ONLY public.repo DROP CONSTRAINT repo_pkey;
ALTER TABLE ONLY public.permissions DROP CONSTRAINT permissions_pkey;
ALTER TABLE ONLY public.permissions DROP CONSTRAINT permissions_name_key;
ALTER TABLE ONLY public.package DROP CONSTRAINT package_pkey;
ALTER TABLE ONLY public.package DROP CONSTRAINT package_name_key;
ALTER TABLE ONLY public.maven_builds DROP CONSTRAINT maven_builds_pkey;
ALTER TABLE ONLY public.maven_archives DROP CONSTRAINT maven_archives_pkey;
ALTER TABLE ONLY public.log_messages DROP CONSTRAINT log_messages_pkey;
ALTER TABLE ONLY public.image_listing DROP CONSTRAINT image_listing_image_id_rpm_id_key;
ALTER TABLE ONLY public.image_builds DROP CONSTRAINT image_builds_pkey;
ALTER TABLE ONLY public.image_archives DROP CONSTRAINT image_archives_pkey;
ALTER TABLE ONLY public.host DROP CONSTRAINT host_pkey;
ALTER TABLE ONLY public.host DROP CONSTRAINT host_name_key;
ALTER TABLE ONLY public.host_channels DROP CONSTRAINT host_channels_host_id_channel_id_key;
ALTER TABLE ONLY public.groups DROP CONSTRAINT groups_pkey;
ALTER TABLE ONLY public.groups DROP CONSTRAINT groups_name_key;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_pkey;
ALTER TABLE ONLY public.group_req_listing DROP CONSTRAINT group_req_listing_group_id_tag_id_req_id_active_key;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_pkey;
ALTER TABLE ONLY public.group_package_listing DROP CONSTRAINT group_package_listing_group_id_tag_id_package_active_key;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_pkey;
ALTER TABLE ONLY public.group_config DROP CONSTRAINT group_config_group_id_tag_id_active_key;
ALTER TABLE ONLY public.external_repo DROP CONSTRAINT external_repo_pkey;
ALTER TABLE ONLY public.external_repo DROP CONSTRAINT external_repo_name_key;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_pkey;
ALTER TABLE ONLY public.external_repo_config DROP CONSTRAINT external_repo_config_external_repo_id_active_key;
ALTER TABLE ONLY public.events DROP CONSTRAINT events_pkey;
ALTER TABLE ONLY public.event_labels DROP CONSTRAINT event_labels_label_key;
ALTER TABLE ONLY public.channels DROP CONSTRAINT channels_pkey;
ALTER TABLE ONLY public.channels DROP CONSTRAINT channels_name_key;
ALTER TABLE ONLY public.buildroot DROP CONSTRAINT buildroot_pkey;
ALTER TABLE ONLY public.buildroot_listing DROP CONSTRAINT buildroot_listing_buildroot_id_rpm_id_key;
ALTER TABLE ONLY public.buildroot_archives DROP CONSTRAINT buildroot_archives_pkey;
ALTER TABLE ONLY public.build_target DROP CONSTRAINT build_target_pkey;
ALTER TABLE ONLY public.build_target DROP CONSTRAINT build_target_name_key;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_pkey;
ALTER TABLE ONLY public.build_target_config DROP CONSTRAINT build_target_config_build_target_id_active_key;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_pkg_ver_rel;
ALTER TABLE ONLY public.build DROP CONSTRAINT build_pkey;
ALTER TABLE ONLY public.build_notifications DROP CONSTRAINT build_notifications_pkey;
ALTER TABLE ONLY public.archivetypes DROP CONSTRAINT archivetypes_pkey;
ALTER TABLE ONLY public.archivetypes DROP CONSTRAINT archivetypes_name_key;
ALTER TABLE ONLY public.archiveinfo DROP CONSTRAINT archiveinfo_pkey;
ALTER TABLE public.volume ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.users ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.task ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.tag_updates ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.tag ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.sessions ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.rpminfo ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.repo ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.permissions ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.package ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.log_messages ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.host ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.groups ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.external_repo ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.events ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.channels ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.buildroot ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.build_target ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.build_notifications ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.build ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.archivetypes ALTER COLUMN id DROP DEFAULT;
ALTER TABLE public.archiveinfo ALTER COLUMN id DROP DEFAULT;
DROP TABLE public.win_builds;
DROP TABLE public.win_archives;
DROP SEQUENCE public.volume_id_seq;
DROP TABLE public.volume;
DROP SEQUENCE public.users_id_seq;
DROP TABLE public.users;
DROP TABLE public.user_perms;
DROP TABLE public.user_groups;
DROP SEQUENCE public.task_id_seq;
DROP TABLE public.task;
DROP SEQUENCE public.tag_updates_id_seq;
DROP TABLE public.tag_updates;
DROP TABLE public.tag_packages;
DROP TABLE public.tag_listing;
DROP TABLE public.tag_inheritance;
DROP SEQUENCE public.tag_id_seq;
DROP TABLE public.tag_external_repos;
DROP TABLE public.tag_config;
DROP TABLE public.tag;
DROP SEQUENCE public.sessions_id_seq;
DROP TABLE public.sessions;
DROP TABLE public.rpmsigs;
DROP SEQUENCE public.rpminfo_id_seq;
DROP TABLE public.rpminfo;
DROP SEQUENCE public.repo_id_seq;
DROP TABLE public.repo;
DROP SEQUENCE public.permissions_id_seq;
DROP TABLE public.permissions;
DROP SEQUENCE public.package_id_seq;
DROP TABLE public.package;
DROP TABLE public.maven_builds;
DROP TABLE public.maven_archives;
DROP SEQUENCE public.log_messages_id_seq;
DROP TABLE public.log_messages;
DROP TABLE public.image_listing;
DROP TABLE public.image_builds;
DROP TABLE public.image_archives;
DROP SEQUENCE public.host_id_seq;
DROP TABLE public.host_channels;
DROP TABLE public.host;
DROP SEQUENCE public.groups_id_seq;
DROP TABLE public.groups;
DROP TABLE public.group_req_listing;
DROP TABLE public.group_package_listing;
DROP TABLE public.group_config;
DROP SEQUENCE public.external_repo_id_seq;
DROP TABLE public.external_repo_config;
DROP TABLE public.external_repo;
DROP SEQUENCE public.events_id_seq;
DROP TABLE public.events;
DROP TABLE public.event_labels;
DROP SEQUENCE public.channels_id_seq;
DROP TABLE public.channels;
DROP TABLE public.buildroot_listing;
DROP SEQUENCE public.buildroot_id_seq;
DROP TABLE public.buildroot_archives;
DROP TABLE public.buildroot;
DROP SEQUENCE public.build_target_id_seq;
DROP TABLE public.build_target_config;
DROP TABLE public.build_target;
DROP SEQUENCE public.build_notifications_id_seq;
DROP TABLE public.build_notifications;
DROP SEQUENCE public.build_id_seq;
DROP TABLE public.build;
DROP SEQUENCE public.archivetypes_id_seq;
DROP TABLE public.archivetypes;
DROP SEQUENCE public.archiveinfo_id_seq;
DROP TABLE public.archiveinfo;
DROP FUNCTION public.get_event_time(integer);
DROP FUNCTION public.get_event();
DROP EXTENSION plpgsql;
DROP SCHEMA public;
--
-- Name: public; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA public;


ALTER SCHEMA public OWNER TO postgres;

--
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA public IS 'standard public schema';


--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- Name: get_event(); Type: FUNCTION; Schema: public; Owner: koji
--

CREATE FUNCTION get_event() RETURNS integer
    LANGUAGE sql
    AS $$
	INSERT INTO events (time) VALUES ('now');
	SELECT currval('events_id_seq')::INTEGER;
$$;


ALTER FUNCTION public.get_event() OWNER TO koji;

--
-- Name: get_event_time(integer); Type: FUNCTION; Schema: public; Owner: koji
--

CREATE FUNCTION get_event_time(integer) RETURNS timestamp without time zone
    LANGUAGE sql
    AS $_$
	SELECT time FROM events WHERE id=$1;
$_$;


ALTER FUNCTION public.get_event_time(integer) OWNER TO koji;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: archiveinfo; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE archiveinfo (
    id integer NOT NULL,
    type_id integer NOT NULL,
    build_id integer NOT NULL,
    buildroot_id integer,
    filename text NOT NULL,
    size bigint NOT NULL,
    checksum text NOT NULL,
    checksum_type integer NOT NULL
);


ALTER TABLE public.archiveinfo OWNER TO koji;

--
-- Name: archiveinfo_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE archiveinfo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.archiveinfo_id_seq OWNER TO koji;

--
-- Name: archiveinfo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE archiveinfo_id_seq OWNED BY archiveinfo.id;


--
-- Name: archivetypes; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE archivetypes (
    id integer NOT NULL,
    name text NOT NULL,
    description text NOT NULL,
    extensions text NOT NULL
);


ALTER TABLE public.archivetypes OWNER TO koji;

--
-- Name: archivetypes_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE archivetypes_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.archivetypes_id_seq OWNER TO koji;

--
-- Name: archivetypes_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE archivetypes_id_seq OWNED BY archivetypes.id;


--
-- Name: build; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE build (
    id integer NOT NULL,
    volume_id integer NOT NULL,
    pkg_id integer NOT NULL,
    version text NOT NULL,
    release text NOT NULL,
    epoch integer,
    create_event integer DEFAULT get_event() NOT NULL,
    completion_time timestamp without time zone,
    state integer NOT NULL,
    task_id integer,
    owner integer NOT NULL,
    CONSTRAINT completion_sane CHECK ((((state = 0) AND (completion_time IS NULL)) OR ((state <> 0) AND (completion_time IS NOT NULL))))
);


ALTER TABLE public.build OWNER TO koji;

--
-- Name: build_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE build_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.build_id_seq OWNER TO koji;

--
-- Name: build_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE build_id_seq OWNED BY build.id;


--
-- Name: build_notifications; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE build_notifications (
    id integer NOT NULL,
    user_id integer NOT NULL,
    package_id integer,
    tag_id integer,
    success_only boolean DEFAULT false NOT NULL,
    email text NOT NULL
);


ALTER TABLE public.build_notifications OWNER TO koji;

--
-- Name: build_notifications_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE build_notifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.build_notifications_id_seq OWNER TO koji;

--
-- Name: build_notifications_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE build_notifications_id_seq OWNED BY build_notifications.id;


--
-- Name: build_target; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE build_target (
    id integer NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.build_target OWNER TO koji;

--
-- Name: build_target_config; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE build_target_config (
    build_target_id integer NOT NULL,
    build_tag integer NOT NULL,
    dest_tag integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT build_target_config_active_check CHECK (active)
);


ALTER TABLE public.build_target_config OWNER TO koji;

--
-- Name: build_target_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE build_target_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.build_target_id_seq OWNER TO koji;

--
-- Name: build_target_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE build_target_id_seq OWNED BY build_target.id;


--
-- Name: buildroot; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE buildroot (
    id integer NOT NULL,
    host_id integer NOT NULL,
    repo_id integer NOT NULL,
    arch character varying(16) NOT NULL,
    task_id integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    retire_event integer,
    state integer,
    dirtyness integer
);


ALTER TABLE public.buildroot OWNER TO koji;

--
-- Name: buildroot_archives; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE buildroot_archives (
    buildroot_id integer NOT NULL,
    archive_id integer NOT NULL,
    project_dep boolean NOT NULL
);


ALTER TABLE public.buildroot_archives OWNER TO koji;

--
-- Name: buildroot_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE buildroot_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.buildroot_id_seq OWNER TO koji;

--
-- Name: buildroot_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE buildroot_id_seq OWNED BY buildroot.id;


--
-- Name: buildroot_listing; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE buildroot_listing (
    buildroot_id integer NOT NULL,
    rpm_id integer NOT NULL,
    is_update boolean DEFAULT false NOT NULL
);


ALTER TABLE public.buildroot_listing OWNER TO koji;

--
-- Name: channels; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE channels (
    id integer NOT NULL,
    name character varying(128) NOT NULL
);


ALTER TABLE public.channels OWNER TO koji;

--
-- Name: channels_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE channels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.channels_id_seq OWNER TO koji;

--
-- Name: channels_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE channels_id_seq OWNED BY channels.id;


--
-- Name: event_labels; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE event_labels (
    event_id integer NOT NULL,
    label character varying(255) NOT NULL
);


ALTER TABLE public.event_labels OWNER TO koji;

--
-- Name: events; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE events (
    id integer NOT NULL,
    "time" timestamp without time zone DEFAULT now() NOT NULL
);


ALTER TABLE public.events OWNER TO koji;

--
-- Name: events_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE events_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.events_id_seq OWNER TO koji;

--
-- Name: events_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE events_id_seq OWNED BY events.id;


--
-- Name: external_repo; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE external_repo (
    id integer NOT NULL,
    name text NOT NULL
);


ALTER TABLE public.external_repo OWNER TO koji;

--
-- Name: external_repo_config; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE external_repo_config (
    external_repo_id integer NOT NULL,
    url text NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT external_repo_config_active_check CHECK (active)
);


ALTER TABLE public.external_repo_config OWNER TO koji;

--
-- Name: external_repo_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE external_repo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.external_repo_id_seq OWNER TO koji;

--
-- Name: external_repo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE external_repo_id_seq OWNED BY external_repo.id;


--
-- Name: group_config; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE group_config (
    group_id integer NOT NULL,
    tag_id integer NOT NULL,
    blocked boolean DEFAULT false NOT NULL,
    exported boolean DEFAULT true,
    display_name text NOT NULL,
    is_default boolean,
    uservisible boolean,
    description text,
    langonly text,
    biarchonly boolean,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT group_config_active_check CHECK (active)
);


ALTER TABLE public.group_config OWNER TO koji;

--
-- Name: group_package_listing; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE group_package_listing (
    group_id integer NOT NULL,
    tag_id integer NOT NULL,
    package text NOT NULL,
    blocked boolean DEFAULT false NOT NULL,
    type character varying(25) NOT NULL,
    basearchonly boolean,
    requires text,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT group_package_listing_active_check CHECK (active)
);


ALTER TABLE public.group_package_listing OWNER TO koji;

--
-- Name: group_req_listing; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE group_req_listing (
    group_id integer NOT NULL,
    tag_id integer NOT NULL,
    req_id integer NOT NULL,
    blocked boolean DEFAULT false NOT NULL,
    type character varying(25),
    is_metapkg boolean DEFAULT false NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT group_req_listing_active_check CHECK (active)
);


ALTER TABLE public.group_req_listing OWNER TO koji;

--
-- Name: groups; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE groups (
    id integer NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.groups OWNER TO koji;

--
-- Name: groups_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.groups_id_seq OWNER TO koji;

--
-- Name: groups_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE groups_id_seq OWNED BY groups.id;


--
-- Name: host; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE host (
    id integer NOT NULL,
    user_id integer NOT NULL,
    name character varying(128) NOT NULL,
    arches text,
    task_load double precision DEFAULT 0.0 NOT NULL,
    capacity double precision DEFAULT 2.0 NOT NULL,
    description text,
    comment text,
    ready boolean DEFAULT false NOT NULL,
    enabled boolean DEFAULT true NOT NULL,
    CONSTRAINT host_capacity_check CHECK ((capacity > (1)::double precision)),
    CONSTRAINT host_task_load_check CHECK ((NOT (task_load < (0)::double precision)))
);


ALTER TABLE public.host OWNER TO koji;

--
-- Name: host_channels; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE host_channels (
    host_id integer NOT NULL,
    channel_id integer NOT NULL
);


ALTER TABLE public.host_channels OWNER TO koji;

--
-- Name: host_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE host_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.host_id_seq OWNER TO koji;

--
-- Name: host_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE host_id_seq OWNED BY host.id;


--
-- Name: image_archives; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE image_archives (
    archive_id integer NOT NULL,
    arch character varying(16) NOT NULL
);


ALTER TABLE public.image_archives OWNER TO koji;

--
-- Name: image_builds; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE image_builds (
    build_id integer NOT NULL
);


ALTER TABLE public.image_builds OWNER TO koji;

--
-- Name: image_listing; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE image_listing (
    image_id integer NOT NULL,
    rpm_id integer NOT NULL
);


ALTER TABLE public.image_listing OWNER TO koji;

--
-- Name: log_messages; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE log_messages (
    id integer NOT NULL,
    message text NOT NULL,
    message_time timestamp without time zone DEFAULT now() NOT NULL,
    logger_name character varying(200) NOT NULL,
    level character varying(10) NOT NULL,
    location character varying(200),
    host character varying(200)
);


ALTER TABLE public.log_messages OWNER TO koji;

--
-- Name: log_messages_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE log_messages_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.log_messages_id_seq OWNER TO koji;

--
-- Name: log_messages_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE log_messages_id_seq OWNED BY log_messages.id;


--
-- Name: maven_archives; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE maven_archives (
    archive_id integer NOT NULL,
    group_id text NOT NULL,
    artifact_id text NOT NULL,
    version text NOT NULL
);


ALTER TABLE public.maven_archives OWNER TO koji;

--
-- Name: maven_builds; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE maven_builds (
    build_id integer NOT NULL,
    group_id text NOT NULL,
    artifact_id text NOT NULL,
    version text NOT NULL
);


ALTER TABLE public.maven_builds OWNER TO koji;

--
-- Name: package; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE package (
    id integer NOT NULL,
    name text NOT NULL
);


ALTER TABLE public.package OWNER TO koji;

--
-- Name: package_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE package_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.package_id_seq OWNER TO koji;

--
-- Name: package_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE package_id_seq OWNED BY package.id;


--
-- Name: permissions; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE permissions (
    id integer NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.permissions OWNER TO koji;

--
-- Name: permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.permissions_id_seq OWNER TO koji;

--
-- Name: permissions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE permissions_id_seq OWNED BY permissions.id;


--
-- Name: repo; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE repo (
    id integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    tag_id integer NOT NULL,
    state integer
);


ALTER TABLE public.repo OWNER TO koji;

--
-- Name: repo_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE repo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.repo_id_seq OWNER TO koji;

--
-- Name: repo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE repo_id_seq OWNED BY repo.id;


--
-- Name: rpminfo; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE rpminfo (
    id integer NOT NULL,
    build_id integer,
    buildroot_id integer,
    name text NOT NULL,
    version text NOT NULL,
    release text NOT NULL,
    epoch integer,
    arch character varying(16) NOT NULL,
    external_repo_id integer NOT NULL,
    payloadhash text NOT NULL,
    size bigint NOT NULL,
    buildtime bigint NOT NULL
);


ALTER TABLE public.rpminfo OWNER TO koji;

--
-- Name: rpminfo_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE rpminfo_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.rpminfo_id_seq OWNER TO koji;

--
-- Name: rpminfo_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE rpminfo_id_seq OWNED BY rpminfo.id;


--
-- Name: rpmsigs; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE rpmsigs (
    rpm_id integer NOT NULL,
    sigkey text NOT NULL,
    sighash text NOT NULL
);


ALTER TABLE public.rpmsigs OWNER TO koji;

--
-- Name: sessions; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE sessions (
    id integer NOT NULL,
    user_id integer NOT NULL,
    expired boolean DEFAULT false NOT NULL,
    master integer,
    key character varying(255),
    authtype integer,
    hostip character varying(255),
    callnum integer,
    start_time timestamp without time zone DEFAULT now() NOT NULL,
    update_time timestamp without time zone DEFAULT now() NOT NULL,
    exclusive boolean,
    CONSTRAINT exclusive_expired_sane CHECK (((expired IS FALSE) OR (exclusive IS NULL))),
    CONSTRAINT no_exclusive_subsessions CHECK (((master IS NULL) OR (exclusive IS NULL))),
    CONSTRAINT sessions_exclusive_check CHECK (exclusive)
);


ALTER TABLE public.sessions OWNER TO koji;

--
-- Name: sessions_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE sessions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.sessions_id_seq OWNER TO koji;

--
-- Name: sessions_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE sessions_id_seq OWNED BY sessions.id;


--
-- Name: tag; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag (
    id integer NOT NULL,
    name character varying(50) NOT NULL
);


ALTER TABLE public.tag OWNER TO koji;

--
-- Name: tag_config; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag_config (
    tag_id integer NOT NULL,
    arches text,
    perm_id integer,
    locked boolean DEFAULT false NOT NULL,
    maven_support boolean DEFAULT false NOT NULL,
    maven_include_all boolean DEFAULT false NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT tag_config_active_check CHECK (active)
);


ALTER TABLE public.tag_config OWNER TO koji;

--
-- Name: tag_external_repos; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag_external_repos (
    tag_id integer NOT NULL,
    external_repo_id integer NOT NULL,
    priority integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT tag_external_repos_active_check CHECK (active)
);


ALTER TABLE public.tag_external_repos OWNER TO koji;

--
-- Name: tag_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE tag_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tag_id_seq OWNER TO koji;

--
-- Name: tag_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE tag_id_seq OWNED BY tag.id;


--
-- Name: tag_inheritance; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag_inheritance (
    tag_id integer NOT NULL,
    parent_id integer NOT NULL,
    priority integer NOT NULL,
    maxdepth integer,
    intransitive boolean DEFAULT false NOT NULL,
    noconfig boolean DEFAULT false NOT NULL,
    pkg_filter text,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT tag_inheritance_active_check CHECK (active)
);


ALTER TABLE public.tag_inheritance OWNER TO koji;

--
-- Name: tag_listing; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag_listing (
    build_id integer NOT NULL,
    tag_id integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT tag_listing_active_check CHECK (active)
);


ALTER TABLE public.tag_listing OWNER TO koji;

--
-- Name: tag_packages; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag_packages (
    package_id integer NOT NULL,
    tag_id integer NOT NULL,
    owner integer NOT NULL,
    blocked boolean DEFAULT false NOT NULL,
    extra_arches text,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT tag_packages_active_check CHECK (active)
);


ALTER TABLE public.tag_packages OWNER TO koji;

--
-- Name: tag_updates; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE tag_updates (
    id integer NOT NULL,
    tag_id integer NOT NULL,
    update_event integer DEFAULT get_event() NOT NULL,
    updater_id integer NOT NULL,
    update_type integer NOT NULL
);


ALTER TABLE public.tag_updates OWNER TO koji;

--
-- Name: tag_updates_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE tag_updates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.tag_updates_id_seq OWNER TO koji;

--
-- Name: tag_updates_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE tag_updates_id_seq OWNED BY tag_updates.id;


--
-- Name: task; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE task (
    id integer NOT NULL,
    state integer,
    create_time timestamp without time zone DEFAULT now() NOT NULL,
    start_time timestamp without time zone,
    completion_time timestamp without time zone,
    channel_id integer NOT NULL,
    host_id integer,
    parent integer,
    label character varying(255),
    waiting boolean,
    awaited boolean,
    owner integer NOT NULL,
    method text,
    request text,
    result text,
    eta integer,
    arch character varying(16) NOT NULL,
    priority integer,
    weight double precision DEFAULT 1.0 NOT NULL,
    CONSTRAINT parent_label_sane CHECK (((parent IS NOT NULL) OR (label IS NULL))),
    CONSTRAINT task_weight_check CHECK ((NOT (weight < (0)::double precision)))
);


ALTER TABLE public.task OWNER TO koji;

--
-- Name: task_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE task_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.task_id_seq OWNER TO koji;

--
-- Name: task_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE task_id_seq OWNED BY task.id;


--
-- Name: user_groups; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE user_groups (
    user_id integer NOT NULL,
    group_id integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT user_groups_active_check CHECK (active)
);


ALTER TABLE public.user_groups OWNER TO koji;

--
-- Name: user_perms; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE user_perms (
    user_id integer NOT NULL,
    perm_id integer NOT NULL,
    create_event integer DEFAULT get_event() NOT NULL,
    revoke_event integer,
    creator_id integer NOT NULL,
    revoker_id integer,
    active boolean DEFAULT true,
    CONSTRAINT active_revoke_sane CHECK (((((active IS NULL) AND (revoke_event IS NOT NULL)) AND (revoker_id IS NOT NULL)) OR (((active IS NOT NULL) AND (revoke_event IS NULL)) AND (revoker_id IS NULL)))),
    CONSTRAINT user_perms_active_check CHECK (active)
);


ALTER TABLE public.user_perms OWNER TO koji;

--
-- Name: users; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE users (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    password character varying(255),
    status integer NOT NULL,
    usertype integer NOT NULL,
    krb_principal character varying(255)
);


ALTER TABLE public.users OWNER TO koji;

--
-- Name: users_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE users_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_id_seq OWNER TO koji;

--
-- Name: users_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE users_id_seq OWNED BY users.id;


--
-- Name: volume; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE volume (
    id integer NOT NULL,
    name text NOT NULL
);


ALTER TABLE public.volume OWNER TO koji;

--
-- Name: volume_id_seq; Type: SEQUENCE; Schema: public; Owner: koji
--

CREATE SEQUENCE volume_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.volume_id_seq OWNER TO koji;

--
-- Name: volume_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: koji
--

ALTER SEQUENCE volume_id_seq OWNED BY volume.id;


--
-- Name: win_archives; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE win_archives (
    archive_id integer NOT NULL,
    relpath text NOT NULL,
    platforms text NOT NULL,
    flags text
);


ALTER TABLE public.win_archives OWNER TO koji;

--
-- Name: win_builds; Type: TABLE; Schema: public; Owner: koji; Tablespace: 
--

CREATE TABLE win_builds (
    build_id integer NOT NULL,
    platform text NOT NULL
);


ALTER TABLE public.win_builds OWNER TO koji;

--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY archiveinfo ALTER COLUMN id SET DEFAULT nextval('archiveinfo_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY archivetypes ALTER COLUMN id SET DEFAULT nextval('archivetypes_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build ALTER COLUMN id SET DEFAULT nextval('build_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_notifications ALTER COLUMN id SET DEFAULT nextval('build_notifications_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target ALTER COLUMN id SET DEFAULT nextval('build_target_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot ALTER COLUMN id SET DEFAULT nextval('buildroot_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY channels ALTER COLUMN id SET DEFAULT nextval('channels_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY events ALTER COLUMN id SET DEFAULT nextval('events_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY external_repo ALTER COLUMN id SET DEFAULT nextval('external_repo_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY groups ALTER COLUMN id SET DEFAULT nextval('groups_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY host ALTER COLUMN id SET DEFAULT nextval('host_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY log_messages ALTER COLUMN id SET DEFAULT nextval('log_messages_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY package ALTER COLUMN id SET DEFAULT nextval('package_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY permissions ALTER COLUMN id SET DEFAULT nextval('permissions_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY repo ALTER COLUMN id SET DEFAULT nextval('repo_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY rpminfo ALTER COLUMN id SET DEFAULT nextval('rpminfo_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY sessions ALTER COLUMN id SET DEFAULT nextval('sessions_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag ALTER COLUMN id SET DEFAULT nextval('tag_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_updates ALTER COLUMN id SET DEFAULT nextval('tag_updates_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY task ALTER COLUMN id SET DEFAULT nextval('task_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY users ALTER COLUMN id SET DEFAULT nextval('users_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: koji
--

ALTER TABLE ONLY volume ALTER COLUMN id SET DEFAULT nextval('volume_id_seq'::regclass);


--
-- Data for Name: archiveinfo; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY archiveinfo (id, type_id, build_id, buildroot_id, filename, size, checksum, checksum_type) FROM stdin;
\.


--
-- Name: archiveinfo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('archiveinfo_id_seq', 1, false);


--
-- Data for Name: archivetypes; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY archivetypes (id, name, description, extensions) FROM stdin;
1	jar	Jar file	jar war rar ear
2	zip	Zip archive	zip
3	pom	Maven Project Object Management file	pom
4	tar	Tar file	tar tar.gz tar.bz2
5	xml	XML file	xml
6	xsd	XML Schema Definition	xsd
7	spec	RPM spec file	spec
8	exe	Windows executable	exe
9	dll	Windows dynamic link library	dll
10	lib	Windows import library	lib
11	sys	Windows device driver	sys
12	inf	Windows driver information file	inf
13	cat	Windows catalog file	cat
14	msi	Windows Installer package	msi
15	pdb	Windows debug information	pdb
16	oem	Windows driver oem file	oem
17	iso	CD/DVD Image	iso
18	raw	Raw disk image	raw
19	qcow	QCOW image	qcow
20	qcow2	QCOW2 image	qcow2
21	vmx	VMX image	vmx
\.


--
-- Name: archivetypes_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('archivetypes_id_seq', 21, true);


--
-- Data for Name: build; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY build (id, volume_id, pkg_id, version, release, epoch, create_event, completion_time, state, task_id, owner) FROM stdin;
1	0	3	3.0.3	5	\N	100	2013-11-28 02:48:40.880641	1	\N	2
\.


--
-- Name: build_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('build_id_seq', 1, true);


--
-- Data for Name: build_notifications; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY build_notifications (id, user_id, package_id, tag_id, success_only, email) FROM stdin;
\.


--
-- Name: build_notifications_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('build_notifications_id_seq', 1, false);


--
-- Data for Name: build_target; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY build_target (id, name) FROM stdin;
1	fedora-19-addons
\.


--
-- Data for Name: build_target_config; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY build_target_config (build_target_id, build_tag, dest_tag, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	4	3	11	\N	2	\N	t
\.


--
-- Name: build_target_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('build_target_id_seq', 1, true);


--
-- Data for Name: buildroot; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY buildroot (id, host_id, repo_id, arch, task_id, create_event, retire_event, state, dirtyness) FROM stdin;
\.


--
-- Data for Name: buildroot_archives; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY buildroot_archives (buildroot_id, archive_id, project_dep) FROM stdin;
\.


--
-- Name: buildroot_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('buildroot_id_seq', 1, false);


--
-- Data for Name: buildroot_listing; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY buildroot_listing (buildroot_id, rpm_id, is_update) FROM stdin;
\.


--
-- Data for Name: channels; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY channels (id, name) FROM stdin;
1	default
2	createrepo
3	maven
4	livecd
5	appliance
6	vm
\.


--
-- Name: channels_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('channels_id_seq', 6, true);


--
-- Data for Name: event_labels; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY event_labels (event_id, label) FROM stdin;
\.


--
-- Data for Name: events; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY events (id, "time") FROM stdin;
1	2013-11-28 02:47:54.535447
2	2013-11-28 02:47:54.537509
3	2013-11-28 02:48:00.890218
4	2013-11-28 02:48:01.675466
5	2013-11-28 02:48:02.445301
6	2013-11-28 02:48:03.228235
7	2013-11-28 02:48:03.903294
8	2013-11-28 02:48:04.663493
9	2013-11-28 02:48:05.236249
10	2013-11-28 02:48:05.689578
11	2013-11-28 02:48:06.340105
12	2013-11-28 02:48:07.05608
13	2013-11-28 02:48:07.149207
14	2013-11-28 02:48:07.807506
15	2013-11-28 02:48:08.549571
16	2013-11-28 02:48:08.600033
17	2013-11-28 02:48:08.649137
18	2013-11-28 02:48:08.698143
19	2013-11-28 02:48:08.748207
20	2013-11-28 02:48:08.798184
21	2013-11-28 02:48:08.849305
22	2013-11-28 02:48:08.900317
23	2013-11-28 02:48:08.952277
24	2013-11-28 02:48:09.002109
25	2013-11-28 02:48:09.052044
26	2013-11-28 02:48:09.102028
27	2013-11-28 02:48:09.151111
28	2013-11-28 02:48:09.200213
29	2013-11-28 02:48:09.250104
30	2013-11-28 02:48:09.299093
31	2013-11-28 02:48:09.348044
32	2013-11-28 02:48:09.397037
33	2013-11-28 02:48:09.445919
34	2013-11-28 02:48:15.319827
35	2013-11-28 02:48:16.06857
36	2013-11-28 02:48:16.123365
37	2013-11-28 02:48:16.176567
38	2013-11-28 02:48:16.230357
39	2013-11-28 02:48:16.284032
40	2013-11-28 02:48:16.332938
41	2013-11-28 02:48:16.382023
42	2013-11-28 02:48:16.431109
43	2013-11-28 02:48:16.481002
44	2013-11-28 02:48:16.532021
45	2013-11-28 02:48:17.397136
46	2013-11-28 02:48:18.113179
47	2013-11-28 02:48:18.164175
48	2013-11-28 02:48:18.215462
49	2013-11-28 02:48:18.266451
50	2013-11-28 02:48:18.317425
51	2013-11-28 02:48:18.368576
52	2013-11-28 02:48:18.42051
53	2013-11-28 02:48:18.471061
54	2013-11-28 02:48:18.520211
55	2013-11-28 02:48:19.182183
56	2013-11-28 02:48:19.695007
57	2013-11-28 02:48:19.74403
58	2013-11-28 02:48:19.79422
59	2013-11-28 02:48:19.844297
60	2013-11-28 02:48:19.894276
61	2013-11-28 02:48:19.945309
62	2013-11-28 02:48:19.997057
63	2013-11-28 02:48:20.04835
64	2013-11-28 02:48:20.099048
65	2013-11-28 02:48:25.966452
66	2013-11-28 02:48:26.312877
67	2013-11-28 02:48:26.36399
68	2013-11-28 02:48:26.414077
69	2013-11-28 02:48:26.465179
70	2013-11-28 02:48:26.516128
71	2013-11-28 02:48:26.567241
72	2013-11-28 02:48:26.617993
73	2013-11-28 02:48:26.668029
74	2013-11-28 02:48:26.717987
75	2013-11-28 02:48:26.766924
76	2013-11-28 02:48:26.81591
77	2013-11-28 02:48:26.864906
78	2013-11-28 02:48:26.913721
79	2013-11-28 02:48:26.962874
80	2013-11-28 02:48:27.011837
81	2013-11-28 02:48:27.061099
82	2013-11-28 02:48:27.110026
83	2013-11-28 02:48:27.159843
84	2013-11-28 02:48:27.209159
85	2013-11-28 02:48:27.258917
86	2013-11-28 02:48:27.307859
87	2013-11-28 02:48:27.357067
88	2013-11-28 02:48:27.407099
89	2013-11-28 02:48:27.455915
90	2013-11-28 02:48:27.505031
91	2013-11-28 02:48:27.554036
92	2013-11-28 02:48:27.602955
93	2013-11-28 02:48:27.652143
94	2013-11-28 02:48:27.701319
95	2013-11-28 02:48:27.751436
96	2013-11-28 02:48:28.940239
97	2013-11-28 02:48:28.98927
98	2013-11-28 02:48:32.18294
99	2013-11-28 02:48:32.964143
100	2013-11-28 02:48:40.880641
101	2013-11-28 02:48:42.134797
102	2013-11-28 02:49:47.399475
103	2013-11-28 02:49:47.545258
\.


--
-- Name: events_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('events_id_seq', 103, true);


--
-- Data for Name: external_repo; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY external_repo (id, name) FROM stdin;
0	INTERNAL
1	fedora-mirror
\.


--
-- Data for Name: external_repo_config; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY external_repo_config (external_repo_id, url, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	http://mirrors.kernel.org/fedora/releases/19/Everything/x86_64/os/	12	\N	2	\N	t
\.


--
-- Name: external_repo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('external_repo_id_seq', 1, true);


--
-- Data for Name: group_config; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY group_config (group_id, tag_id, blocked, exported, display_name, is_default, uservisible, description, langonly, biarchonly, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	4	f	t	build	\N	t	\N	\N	f	14	\N	2	\N	t
2	4	f	t	srpm-build	\N	t	\N	\N	f	34	\N	2	\N	t
3	4	f	t	appliance-build	\N	t	\N	\N	f	45	\N	2	\N	t
4	4	f	t	maven-build	\N	t	\N	\N	f	55	\N	2	\N	t
5	4	f	t	livecd-build	\N	t	\N	\N	f	65	\N	2	\N	t
\.


--
-- Data for Name: group_package_listing; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY group_package_listing (group_id, tag_id, package, blocked, type, basearchonly, requires, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	4	bash	f	default	\N	\N	15	\N	2	\N	t
1	4	bzip2	f	default	\N	\N	16	\N	2	\N	t
1	4	cpio	f	default	\N	\N	17	\N	2	\N	t
1	4	diffutils	f	default	\N	\N	18	\N	2	\N	t
1	4	fedora-release	f	default	\N	\N	19	\N	2	\N	t
1	4	findutils	f	default	\N	\N	20	\N	2	\N	t
1	4	gawk	f	default	\N	\N	21	\N	2	\N	t
1	4	gcc	f	default	\N	\N	22	\N	2	\N	t
1	4	gcc-c++	f	default	\N	\N	23	\N	2	\N	t
1	4	info	f	default	\N	\N	24	\N	2	\N	t
1	4	make	f	default	\N	\N	25	\N	2	\N	t
1	4	redhat-rpm-config	f	default	\N	\N	26	\N	2	\N	t
1	4	rpm-build	f	default	\N	\N	27	\N	2	\N	t
1	4	sed	f	default	\N	\N	28	\N	2	\N	t
1	4	shadow-utils	f	default	\N	\N	29	\N	2	\N	t
1	4	unzip	f	default	\N	\N	30	\N	2	\N	t
1	4	util-linux-ng	f	default	\N	\N	31	\N	2	\N	t
1	4	which	f	default	\N	\N	32	\N	2	\N	t
1	4	xz	f	default	\N	\N	33	\N	2	\N	t
2	4	bash	f	default	\N	\N	35	\N	2	\N	t
2	4	curl	f	default	\N	\N	36	\N	2	\N	t
2	4	cvs	f	default	\N	\N	37	\N	2	\N	t
2	4	fedora-release	f	default	\N	\N	38	\N	2	\N	t
2	4	fedpkg	f	default	\N	\N	39	\N	2	\N	t
2	4	gnupg2	f	default	\N	\N	40	\N	2	\N	t
2	4	make	f	default	\N	\N	41	\N	2	\N	t
2	4	redhat-rpm-config	f	default	\N	\N	42	\N	2	\N	t
2	4	rpm-build	f	default	\N	\N	43	\N	2	\N	t
2	4	shadow-utils	f	default	\N	\N	44	\N	2	\N	t
3	4	appliance-tools	f	default	\N	\N	46	\N	2	\N	t
3	4	bash	f	default	\N	\N	47	\N	2	\N	t
3	4	coreutils	f	default	\N	\N	48	\N	2	\N	t
3	4	grub	f	default	\N	\N	49	\N	2	\N	t
3	4	parted	f	default	\N	\N	50	\N	2	\N	t
3	4	perl	f	default	\N	\N	51	\N	2	\N	t
3	4	policycoreutils	f	default	\N	\N	52	\N	2	\N	t
3	4	selinux-policy	f	default	\N	\N	53	\N	2	\N	t
3	4	shadow-utils	f	default	\N	\N	54	\N	2	\N	t
4	4	bash	f	default	\N	\N	56	\N	2	\N	t
4	4	coreutils	f	default	\N	\N	57	\N	2	\N	t
4	4	java-1.7.0-openjdk-devel	f	default	\N	\N	58	\N	2	\N	t
4	4	maven3	f	default	\N	\N	59	\N	2	\N	t
4	4	subversion	f	default	\N	\N	60	\N	2	\N	t
4	4	liberation-sans-fonts	f	default	\N	\N	61	\N	2	\N	t
4	4	liberation-serif-fonts	f	default	\N	\N	62	\N	2	\N	t
4	4	liberation-mono-fonts	f	default	\N	\N	63	\N	2	\N	t
4	4	git	f	default	\N	\N	64	\N	2	\N	t
5	4	bash	f	default	\N	\N	66	\N	2	\N	t
5	4	bzip2	f	default	\N	\N	67	\N	2	\N	t
5	4	coreutils	f	default	\N	\N	68	\N	2	\N	t
5	4	cpio	f	default	\N	\N	69	\N	2	\N	t
5	4	diffutils	f	default	\N	\N	70	\N	2	\N	t
5	4	fedora-logos	f	default	\N	\N	71	\N	2	\N	t
5	4	fedora-release	f	default	\N	\N	72	\N	2	\N	t
5	4	findutils	f	default	\N	\N	73	\N	2	\N	t
5	4	gawk	f	default	\N	\N	74	\N	2	\N	t
5	4	gcc	f	default	\N	\N	75	\N	2	\N	t
5	4	gcc-c++	f	default	\N	\N	76	\N	2	\N	t
5	4	grep	f	default	\N	\N	77	\N	2	\N	t
5	4	gzip	f	default	\N	\N	78	\N	2	\N	t
5	4	info	f	default	\N	\N	79	\N	2	\N	t
5	4	livecd-tools	f	default	\N	\N	80	\N	2	\N	t
5	4	make	f	default	\N	\N	81	\N	2	\N	t
5	4	patch	f	default	\N	\N	82	\N	2	\N	t
5	4	policycoreutils	f	default	\N	\N	83	\N	2	\N	t
5	4	python-dbus	f	default	\N	\N	84	\N	2	\N	t
5	4	redhat-rpm-config	f	default	\N	\N	85	\N	2	\N	t
5	4	rpm-build	f	default	\N	\N	86	\N	2	\N	t
5	4	sed	f	default	\N	\N	87	\N	2	\N	t
5	4	selinux-policy-targeted	f	default	\N	\N	88	\N	2	\N	t
5	4	shadow-utils	f	default	\N	\N	89	\N	2	\N	t
5	4	squashfs-tools	f	default	\N	\N	90	\N	2	\N	t
5	4	tar	f	default	\N	\N	91	\N	2	\N	t
5	4	unzip	f	default	\N	\N	92	\N	2	\N	t
5	4	util-linux	f	default	\N	\N	93	\N	2	\N	t
5	4	which	f	default	\N	\N	94	\N	2	\N	t
5	4	yum	f	default	\N	\N	95	\N	2	\N	t
\.


--
-- Data for Name: group_req_listing; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY group_req_listing (group_id, tag_id, req_id, blocked, type, is_metapkg, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
\.


--
-- Data for Name: groups; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY groups (id, name) FROM stdin;
1	build
2	srpm-build
3	appliance-build
4	maven-build
5	livecd-build
\.


--
-- Name: groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('groups_id_seq', 5, true);


--
-- Data for Name: host; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY host (id, user_id, name, arches, task_load, capacity, description, comment, ready, enabled) FROM stdin;
1	3	kojibuilder1.localdomain	x86_64	1.5	10	\N	\N	t	t
\.


--
-- Data for Name: host_channels; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY host_channels (host_id, channel_id) FROM stdin;
1	1
1	5
1	2
1	4
1	3
1	6
\.


--
-- Name: host_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('host_id_seq', 1, true);


--
-- Data for Name: image_archives; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY image_archives (archive_id, arch) FROM stdin;
\.


--
-- Data for Name: image_builds; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY image_builds (build_id) FROM stdin;
\.


--
-- Data for Name: image_listing; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY image_listing (image_id, rpm_id) FROM stdin;
\.


--
-- Data for Name: log_messages; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY log_messages (id, message, message_time, logger_name, level, location, host) FROM stdin;
\.


--
-- Name: log_messages_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('log_messages_id_seq', 1, false);


--
-- Data for Name: maven_archives; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY maven_archives (archive_id, group_id, artifact_id, version) FROM stdin;
\.


--
-- Data for Name: maven_builds; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY maven_builds (build_id, group_id, artifact_id, version) FROM stdin;
\.


--
-- Data for Name: package; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY package (id, name) FROM stdin;
1	bash
2	binutils
3	maven3
\.


--
-- Name: package_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('package_id_seq', 3, true);


--
-- Data for Name: permissions; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY permissions (id, name) FROM stdin;
1	admin
2	build
3	repo
4	livecd
5	maven-import
6	win-import
7	win-admin
8	appliance
\.


--
-- Name: permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('permissions_id_seq', 8, true);


--
-- Data for Name: repo; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY repo (id, create_event, tag_id, state) FROM stdin;
1	103	4	0
\.


--
-- Name: repo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('repo_id_seq', 1, true);


--
-- Data for Name: rpminfo; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY rpminfo (id, build_id, buildroot_id, name, version, release, epoch, arch, external_repo_id, payloadhash, size, buildtime) FROM stdin;
1	1	\N	maven3	3.0.3	5	\N	src	0	345c9aa86bf2578ba0479bc9b6186651	30692341	1319146436
2	1	\N	maven3	3.0.3	5	\N	noarch	0	34bb9f04c1deb68a740835fc4e1554de	3330775	1319146438
\.


--
-- Name: rpminfo_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('rpminfo_id_seq', 2, true);


--
-- Data for Name: rpmsigs; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY rpmsigs (rpm_id, sigkey, sighash) FROM stdin;
1		af4dea36a1858ce72b359b459fa38970
2		55bd1bb210cd17cc7342264b42ff6fb2
\.


--
-- Data for Name: sessions; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY sessions (id, user_id, expired, master, key, authtype, hostip, callnum, start_time, update_time, exclusive) FROM stdin;
6	2	t	\N	2-Cw9bCXctAVffdu7NoSe	2	192.168.122.2	4	2013-11-28 02:48:00.141714	2013-11-28 02:48:00.363713	\N
27	2	t	\N	2-VXWowIpyxstjZnXfumn	2	192.168.122.2	3	2013-11-28 02:48:28.193709	2013-11-28 02:48:28.371804	\N
38	3	f	29	3-JzEQzeaZY5LMdv4acr5	2	192.168.122.2	\N	2013-11-28 02:51:03.060224	2013-11-28 02:51:06.850618	\N
1	2	t	\N	2-54INYGIupOA50o4AObg	2	192.168.122.2	3	2013-11-28 02:47:57.171125	2013-11-28 02:47:57.31589	\N
36	3	t	29	3-gj0aMVeYp5VENtlNCzT	2	192.168.122.2	6	2013-11-28 02:49:46.799242	2013-11-28 02:49:47.555772	\N
16	2	t	\N	2-FgYD9R2btxQipCASKzM	2	192.168.122.2	4	2013-11-28 02:48:06.966724	2013-11-28 02:48:07.195717	\N
2	2	t	\N	2-iInKNlfyWHPlZdvzrAP	2	192.168.122.2	4	2013-11-28 02:47:57.743953	2013-11-28 02:47:57.928708	\N
29	3	f	\N	3-rp9hfWsjjULvUyupN2G	2	192.168.122.2	45	2013-11-28 02:48:30.902594	2013-11-28 02:51:03.306857	t
7	2	t	\N	2-mGlT5xOgmtUynf8r4OM	2	192.168.122.2	3	2013-11-28 02:48:00.792252	2013-11-28 02:48:00.936754	\N
12	2	t	\N	2-HleIQp9tCbwbhFMTbn2	2	192.168.122.2	3	2013-11-28 02:48:04.527737	2013-11-28 02:48:04.7127	\N
3	2	t	\N	2-6bO5U92wmWrgQWlJlvb	2	192.168.122.2	4	2013-11-28 02:47:58.345186	2013-11-28 02:47:58.531713	\N
4	2	t	\N	2-8nMC9ZSpv0BBpbSqjeh	2	192.168.122.2	4	2013-11-28 02:47:58.963224	2013-11-28 02:47:59.149716	\N
8	2	t	\N	2-20nZnfvNogChwRtVx4E	2	192.168.122.2	3	2013-11-28 02:48:01.536792	2013-11-28 02:48:01.721751	\N
37	3	f	29	3-dfGztnnoPYyBzJPiRi1	2	192.168.122.2	4	2013-11-28 02:49:47.239329	2013-11-28 02:49:47.740808	\N
26	2	t	\N	2-DV9XHHIDgowWJqrP7WH	2	192.168.122.2	31	2013-11-28 02:48:26.223847	2013-11-28 02:48:27.80074	\N
5	2	t	\N	2-FFAHtGltb9pfDMNIjQx	2	192.168.122.2	4	2013-11-28 02:47:59.783137	2013-11-28 02:47:59.967879	\N
28	2	t	\N	2-4ZuLFZQADu24xPurpUH	2	192.168.122.2	5	2013-11-28 02:48:28.757737	2013-11-28 02:48:29.036716	\N
30	4	f	\N	4-e5qWH55jsnmTN5czkJW	2	192.168.122.2	10	2013-11-28 02:48:31.546925	2013-11-28 02:51:50.843893	t
9	2	t	\N	2-RDKPtV3BNGPhiDFiOoS	2	192.168.122.2	3	2013-11-28 02:48:02.308725	2013-11-28 02:48:02.4937	\N
13	2	t	\N	2-OSLwRFAZnuKeY5U4UAY	2	192.168.122.2	3	2013-11-28 02:48:05.10271	2013-11-28 02:48:05.283705	\N
10	2	t	\N	2-gvwoiZjHzWE6n4OCevD	2	192.168.122.2	3	2013-11-28 02:48:03.094717	2013-11-28 02:48:03.276725	\N
32	2	t	\N	2-07RYqjAYJtylfSTUBJP	2	192.168.122.2	3	2013-11-28 02:48:32.827709	2013-11-28 02:48:33.0097	\N
11	2	t	\N	2-E0b2DhmlwUznn406Aqd	2	192.168.122.2	5	2013-11-28 02:48:03.678749	2013-11-28 02:48:03.947724	\N
31	2	t	\N	2-ZoHDQ8BU2WgjHEy8f0B	2	192.168.122.2	3	2013-11-28 02:48:32.087843	2013-11-28 02:48:32.227704	\N
14	2	t	\N	2-R46RHEZRqPVVZSra9B3	2	192.168.122.2	5	2013-11-28 02:48:05.466723	2013-11-28 02:48:05.733972	\N
17	2	t	\N	2-FCCP1NOmsJhA8ZaRnmp	2	192.168.122.2	5	2013-11-28 02:48:07.580768	2013-11-28 02:48:07.857833	\N
15	2	t	\N	2-EUGoDHurJrO5IY4Y1oQ	2	192.168.122.2	5	2013-11-28 02:48:06.11973	2013-11-28 02:48:06.386715	\N
33	2	t	\N	2-JSqB9JZzrLdVblusZ9y	2	192.168.122.2	41	2013-11-28 02:48:38.557822	2013-11-28 02:48:41.351701	\N
20	2	t	\N	2-Yg8YheEBCvQYGkdvnH0	2	192.168.122.2	11	2013-11-28 02:48:15.974819	2013-11-28 02:48:16.579702	\N
18	2	t	\N	2-EVwPgOfHV4dVKcFK92m	2	192.168.122.2	20	2013-11-28 02:48:08.457752	2013-11-28 02:48:09.492708	\N
34	2	t	\N	2-aFJW1toLoBiDnqJmG5w	2	192.168.122.2	4	2013-11-28 02:48:41.950742	2013-11-28 02:48:42.186784	\N
19	2	t	\N	2-KyVOqJtNeIQT098wyqE	2	192.168.122.2	5	2013-11-28 02:48:10.077767	2013-11-28 02:48:15.373773	\N
35	2	t	\N	2-8LprMcI8hTJPR4BvhEp	2	192.168.122.2	2	2013-11-28 02:48:42.793827	2013-11-28 02:48:42.938686	\N
21	2	t	\N	2-c6mn5fDfq6SEoDUtNey	2	192.168.122.2	5	2013-11-28 02:48:17.165787	2013-11-28 02:48:17.44665	\N
23	2	t	\N	2-2VULzRveKyi5Ryu1dTn	2	192.168.122.2	5	2013-11-28 02:48:18.949789	2013-11-28 02:48:19.229718	\N
22	2	t	\N	2-vWHdko9zOmL6eUW2Zpx	2	192.168.122.2	10	2013-11-28 02:48:18.02278	2013-11-28 02:48:18.56788	\N
25	2	t	\N	2-uLkZ5EE0U1sGSwhce28	2	192.168.122.2	5	2013-11-28 02:48:20.728728	2013-11-28 02:48:26.015833	\N
24	2	t	\N	2-dNl5w5Oyoc9sZRisbnl	2	192.168.122.2	10	2013-11-28 02:48:19.603897	2013-11-28 02:48:20.147774	\N
\.


--
-- Name: sessions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('sessions_id_seq', 38, true);


--
-- Data for Name: tag; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag (id, name) FROM stdin;
1	fedora-19-base
2	fedora-19-addons
3	fedora-19-addons-testing
4	fedora-19-addons-build
5	maven-build
6	maven-import
\.


--
-- Data for Name: tag_config; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag_config (tag_id, arches, perm_id, locked, maven_support, maven_include_all, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	\N	\N	f	f	f	3	\N	2	\N	t
2	\N	\N	f	f	f	4	\N	2	\N	t
3	\N	\N	f	f	f	5	\N	2	\N	t
4	x86_64	\N	f	t	t	6	\N	2	\N	t
5	x86_64	\N	f	t	t	8	\N	2	\N	t
6	\N	\N	f	t	t	9	\N	2	\N	t
\.


--
-- Data for Name: tag_external_repos; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag_external_repos (tag_id, external_repo_id, priority, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	1	5	13	\N	2	\N	t
\.


--
-- Name: tag_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('tag_id_seq', 6, true);


--
-- Data for Name: tag_inheritance; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag_inheritance (tag_id, parent_id, priority, maxdepth, intransitive, noconfig, pkg_filter, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
3	2	0	\N	f	f		5	\N	2	\N	t
4	2	0	\N	f	f		6	\N	2	\N	t
4	1	1	\N	f	f		7	\N	2	\N	t
5	2	0	\N	f	f		8	\N	2	\N	t
6	5	0	\N	f	f		9	\N	2	\N	t
4	6	10	\N	f	f		10	\N	2	\N	t
\.


--
-- Data for Name: tag_listing; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag_listing (build_id, tag_id, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	4	102	\N	2	\N	t
\.


--
-- Data for Name: tag_packages; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag_packages (package_id, tag_id, owner, blocked, extra_arches, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	2	2	f	\N	96	\N	2	\N	t
2	2	2	f	\N	97	\N	2	\N	t
3	4	2	f	\N	101	\N	2	\N	t
\.


--
-- Data for Name: tag_updates; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY tag_updates (id, tag_id, update_event, updater_id, update_type) FROM stdin;
\.


--
-- Name: tag_updates_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('tag_updates_id_seq', 1, false);


--
-- Data for Name: task; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY task (id, state, create_time, start_time, completion_time, channel_id, host_id, parent, label, waiting, awaited, owner, method, request, result, eta, arch, priority, weight) FROM stdin;
1	2	2013-11-28 02:48:42.884466	2013-11-28 02:49:46.700449	2013-11-28 02:49:47.508454	1	1	\N	\N	\N	\N	2	tagBuild	<?xml version='1.0'?>\n<methodCall>\n<methodName>tagBuild</methodName>\n<params>\n<param>\n<value><int>4</int></value>\n</param>\n<param>\n<value><int>1</int></value>\n</param>\n<param>\n<value><nil/></value></param>\n<param>\n<value><nil/></value></param>\n</params>\n</methodCall>\n	<?xml version='1.0'?>\n<methodResponse>\n<params>\n<param>\n<value><nil/></value></param>\n</params>\n</methodResponse>\n	\N	noarch	10	1
2	1	2013-11-28 02:48:47.374795	2013-11-28 02:49:47.142047	\N	2	1	\N	\N	t	\N	4	newRepo	<?xml version='1.0'?>\n<methodCall>\n<methodName>newRepo</methodName>\n<params>\n<param>\n<value><string>fedora-19-addons-build</string></value>\n</param>\n</params>\n</methodCall>\n	\N	\N	noarch	15	0.100000000000000006
3	1	2013-11-28 02:49:47.651129	2013-11-28 02:51:02.96126	\N	2	1	2	x86_64	\N	t	4	createrepo	<?xml version='1.0'?>\n<methodCall>\n<methodName>createrepo</methodName>\n<params>\n<param>\n<value><int>1</int></value>\n</param>\n<param>\n<value><string>x86_64</string></value>\n</param>\n<param>\n<value><nil/></value></param>\n</params>\n</methodCall>\n	\N	\N	noarch	14	1.5
\.


--
-- Name: task_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('task_id_seq', 3, true);


--
-- Data for Name: user_groups; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY user_groups (user_id, group_id, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
\.


--
-- Data for Name: user_perms; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY user_perms (user_id, perm_id, create_event, revoke_event, creator_id, revoker_id, active) FROM stdin;
1	1	1	\N	1	\N	t
2	1	2	\N	1	\N	t
4	3	98	\N	2	\N	t
3	2	99	\N	2	\N	t
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY users (id, name, password, status, usertype, krb_principal) FROM stdin;
1	koji	\N	0	0	\N
2	kojiadmin	\N	0	0	\N
3	kojibuilder1.localdomain	\N	0	1	\N
4	kojira	\N	0	0	\N
\.


--
-- Name: users_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('users_id_seq', 4, true);


--
-- Data for Name: volume; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY volume (id, name) FROM stdin;
0	DEFAULT
\.


--
-- Name: volume_id_seq; Type: SEQUENCE SET; Schema: public; Owner: koji
--

SELECT pg_catalog.setval('volume_id_seq', 1, false);


--
-- Data for Name: win_archives; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY win_archives (archive_id, relpath, platforms, flags) FROM stdin;
\.


--
-- Data for Name: win_builds; Type: TABLE DATA; Schema: public; Owner: koji
--

COPY win_builds (build_id, platform) FROM stdin;
\.


--
-- Name: archiveinfo_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY archiveinfo
    ADD CONSTRAINT archiveinfo_pkey PRIMARY KEY (id);


--
-- Name: archivetypes_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY archivetypes
    ADD CONSTRAINT archivetypes_name_key UNIQUE (name);


--
-- Name: archivetypes_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY archivetypes
    ADD CONSTRAINT archivetypes_pkey PRIMARY KEY (id);


--
-- Name: build_notifications_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build_notifications
    ADD CONSTRAINT build_notifications_pkey PRIMARY KEY (id);


--
-- Name: build_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_pkey PRIMARY KEY (id);


--
-- Name: build_pkg_ver_rel; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_pkg_ver_rel UNIQUE (pkg_id, version, release);


--
-- Name: build_target_config_build_target_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_build_target_id_active_key UNIQUE (build_target_id, active);


--
-- Name: build_target_config_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_pkey PRIMARY KEY (create_event, build_target_id);


--
-- Name: build_target_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build_target
    ADD CONSTRAINT build_target_name_key UNIQUE (name);


--
-- Name: build_target_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY build_target
    ADD CONSTRAINT build_target_pkey PRIMARY KEY (id);


--
-- Name: buildroot_archives_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY buildroot_archives
    ADD CONSTRAINT buildroot_archives_pkey PRIMARY KEY (buildroot_id, archive_id);


--
-- Name: buildroot_listing_buildroot_id_rpm_id_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY buildroot_listing
    ADD CONSTRAINT buildroot_listing_buildroot_id_rpm_id_key UNIQUE (buildroot_id, rpm_id);


--
-- Name: buildroot_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY buildroot
    ADD CONSTRAINT buildroot_pkey PRIMARY KEY (id);


--
-- Name: channels_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT channels_name_key UNIQUE (name);


--
-- Name: channels_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT channels_pkey PRIMARY KEY (id);


--
-- Name: event_labels_label_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY event_labels
    ADD CONSTRAINT event_labels_label_key UNIQUE (label);


--
-- Name: events_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY events
    ADD CONSTRAINT events_pkey PRIMARY KEY (id);


--
-- Name: external_repo_config_external_repo_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_external_repo_id_active_key UNIQUE (external_repo_id, active);


--
-- Name: external_repo_config_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_pkey PRIMARY KEY (create_event, external_repo_id);


--
-- Name: external_repo_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY external_repo
    ADD CONSTRAINT external_repo_name_key UNIQUE (name);


--
-- Name: external_repo_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY external_repo
    ADD CONSTRAINT external_repo_pkey PRIMARY KEY (id);


--
-- Name: group_config_group_id_tag_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_group_id_tag_id_active_key UNIQUE (group_id, tag_id, active);


--
-- Name: group_config_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_pkey PRIMARY KEY (create_event, group_id, tag_id);


--
-- Name: group_package_listing_group_id_tag_id_package_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_group_id_tag_id_package_active_key UNIQUE (group_id, tag_id, package, active);


--
-- Name: group_package_listing_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_pkey PRIMARY KEY (create_event, group_id, tag_id, package);


--
-- Name: group_req_listing_group_id_tag_id_req_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_group_id_tag_id_req_id_active_key UNIQUE (group_id, tag_id, req_id, active);


--
-- Name: group_req_listing_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_pkey PRIMARY KEY (create_event, group_id, tag_id, req_id);


--
-- Name: groups_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY groups
    ADD CONSTRAINT groups_name_key UNIQUE (name);


--
-- Name: groups_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY groups
    ADD CONSTRAINT groups_pkey PRIMARY KEY (id);


--
-- Name: host_channels_host_id_channel_id_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY host_channels
    ADD CONSTRAINT host_channels_host_id_channel_id_key UNIQUE (host_id, channel_id);


--
-- Name: host_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY host
    ADD CONSTRAINT host_name_key UNIQUE (name);


--
-- Name: host_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY host
    ADD CONSTRAINT host_pkey PRIMARY KEY (id);


--
-- Name: image_archives_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY image_archives
    ADD CONSTRAINT image_archives_pkey PRIMARY KEY (archive_id);


--
-- Name: image_builds_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY image_builds
    ADD CONSTRAINT image_builds_pkey PRIMARY KEY (build_id);


--
-- Name: image_listing_image_id_rpm_id_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY image_listing
    ADD CONSTRAINT image_listing_image_id_rpm_id_key UNIQUE (image_id, rpm_id);


--
-- Name: log_messages_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY log_messages
    ADD CONSTRAINT log_messages_pkey PRIMARY KEY (id);


--
-- Name: maven_archives_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY maven_archives
    ADD CONSTRAINT maven_archives_pkey PRIMARY KEY (archive_id);


--
-- Name: maven_builds_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY maven_builds
    ADD CONSTRAINT maven_builds_pkey PRIMARY KEY (build_id);


--
-- Name: package_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY package
    ADD CONSTRAINT package_name_key UNIQUE (name);


--
-- Name: package_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY package
    ADD CONSTRAINT package_pkey PRIMARY KEY (id);


--
-- Name: permissions_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY permissions
    ADD CONSTRAINT permissions_name_key UNIQUE (name);


--
-- Name: permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY permissions
    ADD CONSTRAINT permissions_pkey PRIMARY KEY (id);


--
-- Name: repo_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY repo
    ADD CONSTRAINT repo_pkey PRIMARY KEY (id);


--
-- Name: rpminfo_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY rpminfo
    ADD CONSTRAINT rpminfo_pkey PRIMARY KEY (id);


--
-- Name: rpminfo_unique_nvra; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY rpminfo
    ADD CONSTRAINT rpminfo_unique_nvra UNIQUE (name, version, release, arch, external_repo_id);


--
-- Name: rpmsigs_no_resign; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY rpmsigs
    ADD CONSTRAINT rpmsigs_no_resign UNIQUE (rpm_id, sigkey);


--
-- Name: sessions_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY sessions
    ADD CONSTRAINT sessions_pkey PRIMARY KEY (id);


--
-- Name: sessions_user_id_exclusive_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY sessions
    ADD CONSTRAINT sessions_user_id_exclusive_key UNIQUE (user_id, exclusive);


--
-- Name: tag_config_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_pkey PRIMARY KEY (create_event, tag_id);


--
-- Name: tag_config_tag_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_tag_id_active_key UNIQUE (tag_id, active);


--
-- Name: tag_external_repos_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_pkey PRIMARY KEY (create_event, tag_id, priority);


--
-- Name: tag_external_repos_tag_id_external_repo_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_tag_id_external_repo_id_active_key UNIQUE (tag_id, external_repo_id, active);


--
-- Name: tag_external_repos_tag_id_priority_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_tag_id_priority_active_key UNIQUE (tag_id, priority, active);


--
-- Name: tag_inheritance_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_pkey PRIMARY KEY (create_event, tag_id, priority);


--
-- Name: tag_inheritance_tag_id_parent_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_tag_id_parent_id_active_key UNIQUE (tag_id, parent_id, active);


--
-- Name: tag_inheritance_tag_id_priority_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_tag_id_priority_active_key UNIQUE (tag_id, priority, active);


--
-- Name: tag_listing_build_id_tag_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_build_id_tag_id_active_key UNIQUE (build_id, tag_id, active);


--
-- Name: tag_listing_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_pkey PRIMARY KEY (create_event, build_id, tag_id);


--
-- Name: tag_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag
    ADD CONSTRAINT tag_name_key UNIQUE (name);


--
-- Name: tag_packages_package_id_tag_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_package_id_tag_id_active_key UNIQUE (package_id, tag_id, active);


--
-- Name: tag_packages_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_pkey PRIMARY KEY (create_event, package_id, tag_id);


--
-- Name: tag_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag
    ADD CONSTRAINT tag_pkey PRIMARY KEY (id);


--
-- Name: tag_updates_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY tag_updates
    ADD CONSTRAINT tag_updates_pkey PRIMARY KEY (id);


--
-- Name: task_parent_label_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY task
    ADD CONSTRAINT task_parent_label_key UNIQUE (parent, label);


--
-- Name: task_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY task
    ADD CONSTRAINT task_pkey PRIMARY KEY (id);


--
-- Name: user_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_pkey PRIMARY KEY (create_event, user_id, group_id);


--
-- Name: user_groups_user_id_group_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_user_id_group_id_active_key UNIQUE (user_id, group_id, active);


--
-- Name: user_perms_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_pkey PRIMARY KEY (create_event, user_id, perm_id);


--
-- Name: user_perms_user_id_perm_id_active_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_user_id_perm_id_active_key UNIQUE (user_id, perm_id, active);


--
-- Name: users_krb_principal_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_krb_principal_key UNIQUE (krb_principal);


--
-- Name: users_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_name_key UNIQUE (name);


--
-- Name: users_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY users
    ADD CONSTRAINT users_pkey PRIMARY KEY (id);


--
-- Name: volume_name_key; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY volume
    ADD CONSTRAINT volume_name_key UNIQUE (name);


--
-- Name: volume_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY volume
    ADD CONSTRAINT volume_pkey PRIMARY KEY (id);


--
-- Name: win_archives_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY win_archives
    ADD CONSTRAINT win_archives_pkey PRIMARY KEY (archive_id);


--
-- Name: win_builds_pkey; Type: CONSTRAINT; Schema: public; Owner: koji; Tablespace: 
--

ALTER TABLE ONLY win_builds
    ADD CONSTRAINT win_builds_pkey PRIMARY KEY (build_id);


--
-- Name: archiveinfo_build_idx; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX archiveinfo_build_idx ON archiveinfo USING btree (build_id);


--
-- Name: archiveinfo_buildroot_idx; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX archiveinfo_buildroot_idx ON archiveinfo USING btree (buildroot_id);


--
-- Name: archiveinfo_filename_idx; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX archiveinfo_filename_idx ON archiveinfo USING btree (filename);


--
-- Name: archiveinfo_type_idx; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX archiveinfo_type_idx ON archiveinfo USING btree (type_id);


--
-- Name: build_by_pkg_id; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX build_by_pkg_id ON build USING btree (pkg_id);


--
-- Name: build_completion; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX build_completion ON build USING btree (completion_time);


--
-- Name: buildroot_archives_archive_idx; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX buildroot_archives_archive_idx ON buildroot_archives USING btree (archive_id);


--
-- Name: buildroot_listing_rpms; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX buildroot_listing_rpms ON buildroot_listing USING btree (rpm_id);


--
-- Name: host_is_ready_and_enabled; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX host_is_ready_and_enabled ON host USING btree (enabled, ready) WHERE ((enabled IS TRUE) AND (ready IS TRUE));


--
-- Name: image_listing_rpms; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX image_listing_rpms ON image_listing USING btree (rpm_id);


--
-- Name: rpminfo_build; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX rpminfo_build ON rpminfo USING btree (build_id);


--
-- Name: sessions_active_and_recent; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX sessions_active_and_recent ON sessions USING btree (expired, master, update_time) WHERE ((expired IS NOT TRUE) AND (master IS NULL));


--
-- Name: sessions_master; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX sessions_master ON sessions USING btree (master);


--
-- Name: tag_inheritance_by_parent; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX tag_inheritance_by_parent ON tag_inheritance USING btree (parent_id);


--
-- Name: tag_listing_tag_id_key; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX tag_listing_tag_id_key ON tag_listing USING btree (tag_id);


--
-- Name: tag_updates_by_event; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX tag_updates_by_event ON tag_updates USING btree (update_event);


--
-- Name: tag_updates_by_tag; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX tag_updates_by_tag ON tag_updates USING btree (tag_id);


--
-- Name: task_by_host; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX task_by_host ON task USING btree (host_id);


--
-- Name: task_by_state; Type: INDEX; Schema: public; Owner: koji; Tablespace: 
--

CREATE INDEX task_by_state ON task USING btree (state);


--
-- Name: archiveinfo_build_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY archiveinfo
    ADD CONSTRAINT archiveinfo_build_id_fkey FOREIGN KEY (build_id) REFERENCES build(id);


--
-- Name: archiveinfo_buildroot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY archiveinfo
    ADD CONSTRAINT archiveinfo_buildroot_id_fkey FOREIGN KEY (buildroot_id) REFERENCES buildroot(id);


--
-- Name: archiveinfo_type_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY archiveinfo
    ADD CONSTRAINT archiveinfo_type_id_fkey FOREIGN KEY (type_id) REFERENCES archivetypes(id);


--
-- Name: build_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: build_notifications_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_notifications
    ADD CONSTRAINT build_notifications_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: build_notifications_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_notifications
    ADD CONSTRAINT build_notifications_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: build_notifications_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_notifications
    ADD CONSTRAINT build_notifications_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: build_owner_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_owner_fkey FOREIGN KEY (owner) REFERENCES users(id);


--
-- Name: build_pkg_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_pkg_id_fkey FOREIGN KEY (pkg_id) REFERENCES package(id) DEFERRABLE;


--
-- Name: build_target_config_build_tag_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_build_tag_fkey FOREIGN KEY (build_tag) REFERENCES tag(id);


--
-- Name: build_target_config_build_target_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_build_target_id_fkey FOREIGN KEY (build_target_id) REFERENCES build_target(id);


--
-- Name: build_target_config_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: build_target_config_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: build_target_config_dest_tag_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_dest_tag_fkey FOREIGN KEY (dest_tag) REFERENCES tag(id);


--
-- Name: build_target_config_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: build_target_config_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build_target_config
    ADD CONSTRAINT build_target_config_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: build_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_task_id_fkey FOREIGN KEY (task_id) REFERENCES task(id);


--
-- Name: build_volume_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY build
    ADD CONSTRAINT build_volume_id_fkey FOREIGN KEY (volume_id) REFERENCES volume(id);


--
-- Name: buildroot_archives_archive_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot_archives
    ADD CONSTRAINT buildroot_archives_archive_id_fkey FOREIGN KEY (archive_id) REFERENCES archiveinfo(id);


--
-- Name: buildroot_archives_buildroot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot_archives
    ADD CONSTRAINT buildroot_archives_buildroot_id_fkey FOREIGN KEY (buildroot_id) REFERENCES buildroot(id);


--
-- Name: buildroot_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot
    ADD CONSTRAINT buildroot_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: buildroot_host_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot
    ADD CONSTRAINT buildroot_host_id_fkey FOREIGN KEY (host_id) REFERENCES host(id);


--
-- Name: buildroot_listing_buildroot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot_listing
    ADD CONSTRAINT buildroot_listing_buildroot_id_fkey FOREIGN KEY (buildroot_id) REFERENCES buildroot(id);


--
-- Name: buildroot_listing_rpm_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot_listing
    ADD CONSTRAINT buildroot_listing_rpm_id_fkey FOREIGN KEY (rpm_id) REFERENCES rpminfo(id);


--
-- Name: buildroot_repo_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot
    ADD CONSTRAINT buildroot_repo_id_fkey FOREIGN KEY (repo_id) REFERENCES repo(id);


--
-- Name: buildroot_task_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY buildroot
    ADD CONSTRAINT buildroot_task_id_fkey FOREIGN KEY (task_id) REFERENCES task(id);


--
-- Name: event_labels_event_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY event_labels
    ADD CONSTRAINT event_labels_event_id_fkey FOREIGN KEY (event_id) REFERENCES events(id);


--
-- Name: external_repo_config_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: external_repo_config_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: external_repo_config_external_repo_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_external_repo_id_fkey FOREIGN KEY (external_repo_id) REFERENCES external_repo(id);


--
-- Name: external_repo_config_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: external_repo_config_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY external_repo_config
    ADD CONSTRAINT external_repo_config_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: group_config_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: group_config_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: group_config_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_group_id_fkey FOREIGN KEY (group_id) REFERENCES groups(id);


--
-- Name: group_config_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: group_config_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: group_config_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_config
    ADD CONSTRAINT group_config_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: group_package_listing_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: group_package_listing_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: group_package_listing_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_group_id_fkey FOREIGN KEY (group_id) REFERENCES groups(id);


--
-- Name: group_package_listing_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: group_package_listing_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: group_package_listing_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_package_listing
    ADD CONSTRAINT group_package_listing_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: group_req_listing_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: group_req_listing_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: group_req_listing_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_group_id_fkey FOREIGN KEY (group_id) REFERENCES groups(id);


--
-- Name: group_req_listing_req_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_req_id_fkey FOREIGN KEY (req_id) REFERENCES groups(id);


--
-- Name: group_req_listing_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: group_req_listing_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: group_req_listing_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY group_req_listing
    ADD CONSTRAINT group_req_listing_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: host_channels_channel_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY host_channels
    ADD CONSTRAINT host_channels_channel_id_fkey FOREIGN KEY (channel_id) REFERENCES channels(id);


--
-- Name: host_channels_host_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY host_channels
    ADD CONSTRAINT host_channels_host_id_fkey FOREIGN KEY (host_id) REFERENCES host(id);


--
-- Name: host_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY host
    ADD CONSTRAINT host_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: image_archives_archive_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY image_archives
    ADD CONSTRAINT image_archives_archive_id_fkey FOREIGN KEY (archive_id) REFERENCES archiveinfo(id);


--
-- Name: image_builds_build_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY image_builds
    ADD CONSTRAINT image_builds_build_id_fkey FOREIGN KEY (build_id) REFERENCES build(id);


--
-- Name: image_listing_image_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY image_listing
    ADD CONSTRAINT image_listing_image_id_fkey FOREIGN KEY (image_id) REFERENCES image_archives(archive_id);


--
-- Name: image_listing_rpm_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY image_listing
    ADD CONSTRAINT image_listing_rpm_id_fkey FOREIGN KEY (rpm_id) REFERENCES rpminfo(id);


--
-- Name: maven_archives_archive_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY maven_archives
    ADD CONSTRAINT maven_archives_archive_id_fkey FOREIGN KEY (archive_id) REFERENCES archiveinfo(id);


--
-- Name: maven_builds_build_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY maven_builds
    ADD CONSTRAINT maven_builds_build_id_fkey FOREIGN KEY (build_id) REFERENCES build(id);


--
-- Name: repo_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY repo
    ADD CONSTRAINT repo_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: repo_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY repo
    ADD CONSTRAINT repo_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: rpminfo_build_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY rpminfo
    ADD CONSTRAINT rpminfo_build_id_fkey FOREIGN KEY (build_id) REFERENCES build(id);


--
-- Name: rpminfo_buildroot_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY rpminfo
    ADD CONSTRAINT rpminfo_buildroot_id_fkey FOREIGN KEY (buildroot_id) REFERENCES buildroot(id);


--
-- Name: rpminfo_external_repo_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY rpminfo
    ADD CONSTRAINT rpminfo_external_repo_id_fkey FOREIGN KEY (external_repo_id) REFERENCES external_repo(id);


--
-- Name: rpmsigs_rpm_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY rpmsigs
    ADD CONSTRAINT rpmsigs_rpm_id_fkey FOREIGN KEY (rpm_id) REFERENCES rpminfo(id);


--
-- Name: sessions_master_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY sessions
    ADD CONSTRAINT sessions_master_fkey FOREIGN KEY (master) REFERENCES sessions(id);


--
-- Name: sessions_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY sessions
    ADD CONSTRAINT sessions_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: tag_config_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: tag_config_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: tag_config_perm_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_perm_id_fkey FOREIGN KEY (perm_id) REFERENCES permissions(id);


--
-- Name: tag_config_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: tag_config_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: tag_config_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_config
    ADD CONSTRAINT tag_config_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: tag_external_repos_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: tag_external_repos_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: tag_external_repos_external_repo_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_external_repo_id_fkey FOREIGN KEY (external_repo_id) REFERENCES external_repo(id);


--
-- Name: tag_external_repos_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: tag_external_repos_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: tag_external_repos_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_external_repos
    ADD CONSTRAINT tag_external_repos_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: tag_inheritance_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: tag_inheritance_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: tag_inheritance_parent_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_parent_id_fkey FOREIGN KEY (parent_id) REFERENCES tag(id);


--
-- Name: tag_inheritance_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: tag_inheritance_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: tag_inheritance_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_inheritance
    ADD CONSTRAINT tag_inheritance_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: tag_listing_build_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_build_id_fkey FOREIGN KEY (build_id) REFERENCES build(id);


--
-- Name: tag_listing_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: tag_listing_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: tag_listing_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: tag_listing_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: tag_listing_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_listing
    ADD CONSTRAINT tag_listing_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: tag_packages_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: tag_packages_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: tag_packages_owner_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_owner_fkey FOREIGN KEY (owner) REFERENCES users(id);


--
-- Name: tag_packages_package_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_package_id_fkey FOREIGN KEY (package_id) REFERENCES package(id);


--
-- Name: tag_packages_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: tag_packages_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: tag_packages_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_packages
    ADD CONSTRAINT tag_packages_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: tag_updates_tag_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_updates
    ADD CONSTRAINT tag_updates_tag_id_fkey FOREIGN KEY (tag_id) REFERENCES tag(id);


--
-- Name: tag_updates_update_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_updates
    ADD CONSTRAINT tag_updates_update_event_fkey FOREIGN KEY (update_event) REFERENCES events(id);


--
-- Name: tag_updates_updater_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY tag_updates
    ADD CONSTRAINT tag_updates_updater_id_fkey FOREIGN KEY (updater_id) REFERENCES users(id);


--
-- Name: task_channel_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY task
    ADD CONSTRAINT task_channel_id_fkey FOREIGN KEY (channel_id) REFERENCES channels(id);


--
-- Name: task_host_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY task
    ADD CONSTRAINT task_host_id_fkey FOREIGN KEY (host_id) REFERENCES host(id);


--
-- Name: task_owner_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY task
    ADD CONSTRAINT task_owner_fkey FOREIGN KEY (owner) REFERENCES users(id);


--
-- Name: task_parent_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY task
    ADD CONSTRAINT task_parent_fkey FOREIGN KEY (parent) REFERENCES task(id);


--
-- Name: user_groups_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: user_groups_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: user_groups_group_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_group_id_fkey FOREIGN KEY (group_id) REFERENCES users(id);


--
-- Name: user_groups_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: user_groups_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: user_groups_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_groups
    ADD CONSTRAINT user_groups_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: user_perms_create_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_create_event_fkey FOREIGN KEY (create_event) REFERENCES events(id);


--
-- Name: user_perms_creator_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_creator_id_fkey FOREIGN KEY (creator_id) REFERENCES users(id);


--
-- Name: user_perms_perm_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_perm_id_fkey FOREIGN KEY (perm_id) REFERENCES permissions(id);


--
-- Name: user_perms_revoke_event_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_revoke_event_fkey FOREIGN KEY (revoke_event) REFERENCES events(id);


--
-- Name: user_perms_revoker_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_revoker_id_fkey FOREIGN KEY (revoker_id) REFERENCES users(id);


--
-- Name: user_perms_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY user_perms
    ADD CONSTRAINT user_perms_user_id_fkey FOREIGN KEY (user_id) REFERENCES users(id);


--
-- Name: win_archives_archive_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY win_archives
    ADD CONSTRAINT win_archives_archive_id_fkey FOREIGN KEY (archive_id) REFERENCES archiveinfo(id);


--
-- Name: win_builds_build_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: koji
--

ALTER TABLE ONLY win_builds
    ADD CONSTRAINT win_builds_build_id_fkey FOREIGN KEY (build_id) REFERENCES build(id);


--
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- Name: build; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE build FROM PUBLIC;
REVOKE ALL ON TABLE build FROM koji;
GRANT ALL ON TABLE build TO koji;
GRANT SELECT ON TABLE build TO PUBLIC;


--
-- Name: package; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE package FROM PUBLIC;
REVOKE ALL ON TABLE package FROM koji;
GRANT ALL ON TABLE package TO koji;
GRANT SELECT ON TABLE package TO PUBLIC;


--
-- Name: rpminfo; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE rpminfo FROM PUBLIC;
REVOKE ALL ON TABLE rpminfo FROM koji;
GRANT ALL ON TABLE rpminfo TO koji;
GRANT SELECT ON TABLE rpminfo TO PUBLIC;


--
-- Name: tag; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE tag FROM PUBLIC;
REVOKE ALL ON TABLE tag FROM koji;
GRANT ALL ON TABLE tag TO koji;
GRANT SELECT ON TABLE tag TO PUBLIC;


--
-- Name: tag_config; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE tag_config FROM PUBLIC;
REVOKE ALL ON TABLE tag_config FROM koji;
GRANT ALL ON TABLE tag_config TO koji;
GRANT SELECT ON TABLE tag_config TO PUBLIC;


--
-- Name: tag_inheritance; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE tag_inheritance FROM PUBLIC;
REVOKE ALL ON TABLE tag_inheritance FROM koji;
GRANT ALL ON TABLE tag_inheritance TO koji;
GRANT SELECT ON TABLE tag_inheritance TO PUBLIC;


--
-- Name: tag_listing; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE tag_listing FROM PUBLIC;
REVOKE ALL ON TABLE tag_listing FROM koji;
GRANT ALL ON TABLE tag_listing TO koji;
GRANT SELECT ON TABLE tag_listing TO PUBLIC;


--
-- Name: tag_packages; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE tag_packages FROM PUBLIC;
REVOKE ALL ON TABLE tag_packages FROM koji;
GRANT ALL ON TABLE tag_packages TO koji;
GRANT SELECT ON TABLE tag_packages TO PUBLIC;


--
-- Name: task; Type: ACL; Schema: public; Owner: koji
--

REVOKE ALL ON TABLE task FROM PUBLIC;
REVOKE ALL ON TABLE task FROM koji;
GRANT ALL ON TABLE task TO koji;
GRANT SELECT ON TABLE task TO PUBLIC;


--
-- PostgreSQL database dump complete
--

